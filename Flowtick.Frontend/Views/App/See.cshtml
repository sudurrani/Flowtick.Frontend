@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/logo/logo.png" type="image/x-icon">
    <title>Flowtick - Modern Project Management</title>


    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/scripts/crypto-js.min.js"></script>
    <script src="~/lib/toastr/toastr.js"></script>
    <script src="~/lib/sweetalert2/sweetalert2.min.js"></script>
    <script src="~/js/functionalityjs/common-script.js"></script>

    <style>
        /* Yellow theme */
        .theme-yellow-tick {
            color: #c9992c !important;
            border-color: #764ba2 !important;
        }

        .theme-dark-tick {
            color: #764ba2 !important;
            border-color: #c9992c !important;
        }

        .theme-toggle {
            cursor: pointer !important;
            font-weight: 700 !important;
            font-size: 1rem !important;
            /* color: var(--primary); */
            padding: 0.4rem 0.9rem !important;
            border-radius: 20px !important;
            border: 2px solid !important;
            border-color: #c9992c !important;
            transition: all 0.3s ease !important;
            user-select: none !important;
        }
    </style>
</head>
<body id="HTMLTag">
    @{
                    @await Html.PartialAsync("~/Views/Shared/PartialViews/WebsiteTheme/_YellowThemePartialView.cshtml")
        //@await Html.PartialAsync("~/Views/Shared/PartialViews/WebsiteTheme/_DarkThemePartialView.cshtml")

    }
</body>


</html>

<script>

    $(function () {
        $('<link>', {
            rel: 'stylesheet',
            type: 'text/css',
            href: '/css/website/yellow-theme.css'            
        }).appendTo('head');
    });
    
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

    // Add scroll animation to feature cards, pricing cards, and about sections
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '0';
                entry.target.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    entry.target.style.transition = 'all 0.6s ease-out';
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }, 100);
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    document.querySelectorAll('.feature-card, .pricing-card, .about-story, .mission-card, .value-item').forEach(card => {
        observer.observe(card);
    });

    // Animate stats on scroll
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const target = entry.target;
                const finalValue = target.textContent;
                target.textContent = '0';

                const duration = 2000;
                const start = performance.now();

                const animate = (currentTime) => {
                    const elapsed = currentTime - start;
                    const progress = Math.min(elapsed / duration, 1);

                    if (finalValue.includes('K')) {
                        const num = parseInt(finalValue);
                        target.textContent = Math.floor(progress * num) + 'K+';
                    } else if (finalValue.includes('M')) {
                        const num = parseInt(finalValue);
                        target.textContent = Math.floor(progress * num) + 'M+';
                    } else if (finalValue.includes('%')) {
                        const num = parseFloat(finalValue);
                        target.textContent = (progress * num).toFixed(1) + '%';
                    } else if (finalValue.includes('/')) {
                        target.textContent = (progress * 4.9).toFixed(1) + '/5';
                    }

                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    } else {
                        target.textContent = finalValue;
                    }
                };

                requestAnimationFrame(animate);
                statsObserver.unobserve(target);
            }
        });
    }, { threshold: 0.5 });

    document.querySelectorAll('.stat-item h2').forEach(stat => {
        statsObserver.observe(stat);
    });

    // Active navigation on scroll
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-links a');

    function setActiveNav() {
        let current = '';

        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (window.scrollY >= (sectionTop - 200)) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('active');
            }
        });
    }

    window.addEventListener('scroll', setActiveNav);
    window.addEventListener('load', setActiveNav);

    // Theme switcher
    // Theme select logic
    // Theme text toggle
    function themeToggler() {
        let _url = '/App';
        let theme = 'dark-theme.css';
        
        if ($('#themeToggle').text() == 'Yellow') {
            $('#themeToggle').removeClass('theme-yellow-tick');
            $('#themeToggle').addClass('theme-dark-tick');
            $('#themeToggle').text('Dark');
         
            _url = `${_url}/YellowTheme`;
             theme = 'yellow-theme.css';
        }
        else {
            {
                $('#themeToggle').addClass('theme-yellow-tick');
                $('#themeToggle').removeClass('theme-dark-tick');
                $('#themeToggle').text('Yellow');
               

                _url = `${_url}/DarkTheme`;
                 theme = 'dark-theme.css';
            }
        }
        
        ajaxRequest({
            url: _url,
            type: 'GET',
            data: {},//{ url: _url },//"~/Views/Shared/PartialViews/Auth/SignUp/_AccountDetailPartialView.cshtml" },
            callBack: function (responseHTML) {                
                $('#HTMLTag').html(responseHTML);
                $('<link>', {
                    rel: 'stylesheet',
                    type: 'text/css',
                    href: `/css/website/${theme}`
                }).appendTo('head');
                setTimeout(function () {
                    if ($('#themeToggle').text() == 'Yellow') {                        
                        $('#li-toggler').attr('style', 'border-color: #c9992c !important;');
                    }
                    else if ($('#themeToggle').text() == 'Dark') {                        
                        $('#li-toggler').attr('style', 'border-color: #764ba2 !important;');
                    }
                }, 500);
                
                
            }
        }, 'html');
    }



</script>